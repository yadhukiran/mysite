"use strict";(self.webpackChunkmysite_dev=self.webpackChunkmysite_dev||[]).push([[516,863,91,612,409,352,862],{39863:function(e,t,n){n.r(t),n.d(t,{defaultInputCode:function(){return r},defaultTargetCode:function(){return o},defaultFavorites:function(){return u},currencyMap:function(){return a}});var r="USD",o="USD",u=["USD","GBP","EUR","JPY","INR"],a={JPY:{name:"Japanese Yen",symbol:"\xa5",htmlCode:"&#165;",uniCode:"U+000A5"},USD:{name:"US Dollar",symbol:"$",htmlCode:"&#36;",uniCode:"U+00024"},GBP:{name:"Great British Pound",symbol:"\xa3",htmlCode:"&#163;",uniCode:"U+000A3"},EUR:{name:"Euro",symbol:"\u20ac",htmlCode:"&#8364;",uniCode:"U+020AC"},INR:{name:"Indian Rupee",symbol:"\u20b9",htmlCode:"&#8377;",uniCode:"U+020B9"}}},46091:function(e,t,n){n.r(t),n.d(t,{fetchCurrencyExData:function(){return p},fetchInputCodeSync:function(){return m},fetchTargetCodeSync:function(){return v}});var r=n(15861),o=n(87757),u=n.n(o),a=n(7370),i=n(39863),c=n(98409),s=n(89352),f=n(1862),d=n(27612);function p(){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(u().mark((function e(){var t,n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=JSON.parse(null!==(t=s.LocalStorage.getItem(a.webStorage.currencyExData))&&void 0!==t?t:"null"))&&!((0,c.getTimetamp)()>n.timeNextUpdate)){e.next=6;break}return e.next=4,(0,d.default)({method:d.T_HTTPMethod.GET,endpoint:a.API.currencyEx});case 4:(r=e.sent).result&&(n=(0,f.mapCurrencyExRateResponse)(r.result),s.LocalStorage.setItem(a.webStorage.currencyExData,JSON.stringify(n)));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return s.LocalStorage.getItem(a.webStorage.currencyExInputCode)||i.defaultTargetCode}function v(){return s.LocalStorage.getItem("currencyTargetCode")||i.defaultTargetCode}},27612:function(e,t,n){n.r(t),n.d(t,{T_HTTPMethod:function(){return r},getQueryParams:function(){return i},default:function(){return c}});var r,o=n(15861),u=n(87757),a=n.n(u);!function(e){e.GET="GET",e.POST="POST",e.PUT="PUT",e.PATCH="PATCH",e.DELETE="DELETE"}(r||(r={}));var i=function(e){return Object.keys(e).filter((function(t){return"undefined"!==typeof e[t]&&null!==e[t]&&""!==e[t]})).map((function(t){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e[t]))})).join("&")};function c(e){return s.apply(this,arguments)}function s(){return(s=(0,o.Z)(a().mark((function e(t){var n,o,u,c,s,f,d,p,l,m;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.method,o=t.endpoint,u=t.params,c=t.headers,s=t.body,f=t.rawBody,d=o,u&&(d+=(-1===d.indexOf("?")?"?":"&")+i(u)),p={headers:c,method:n,credentials:"same-origin",mode:"cors"},n!==r.GET&&(f||s)&&(p.body=f||JSON.stringify(s)),e.prev=5,e.next=8,fetch(d,p);case 8:if(l=e.sent,!(l.headers.get("Content-Type")||"").includes("application/json")){e.next=16;break}return e.next=13,l.json();case 13:m=e.sent,e.next=17;break;case 16:m=l;case 17:if(!(l.status>=400)){e.next=24;break}if(e.t0=m,e.t0){e.next=23;break}return e.next=22,l.text();case 22:e.t0=e.sent;case 23:throw e.t0;case 24:return e.abrupt("return",{result:m});case 27:return e.prev=27,e.t1=e.catch(5),e.abrupt("return",{error:e.t1 instanceof Error?e.t1.message:e.t1});case 30:case"end":return e.stop()}}),e,null,[[5,27]])})))).apply(this,arguments)}},98409:function(e,t,n){function r(){return Math.floor(+Date.now()/1e3)}n.r(t),n.d(t,{getTimetamp:function(){return r}})},89352:function(e,t,n){n.r(t),n.d(t,{isStorageSupported:function(){return u},MemoryStorage:function(){return a},LocalStorage:function(){return i},SessionStorage:function(){return c}});var r=n(43144),o=n(15671);function u(e){try{var t=window[e],n="__storage_test__";return t.setItem(n,"1"),t.removeItem(n),!0}catch(r){return!1}}var a=(0,r.Z)((function e(){var t=this;(0,o.Z)(this,e),this.storage={},this.setItem=function(e,n){var r=n&&n.toString()||"";t.storage[e]=r},this.getItem=function(e){return t.storage[e]||""},this.removeItem=function(e){delete t.storage[e]},this.clear=function(){t.storage=(new e).storage}})),i=u("localStorage")?window.localStorage:new a,c=u("sessionStorage")?window.sessionStorage:new a},1862:function(e,t,n){n.r(t),n.d(t,{mapCurrencyExRateResponse:function(){return u},sanitizeInputAmount:function(){return a},getFavoritesWithExRates:function(){return i},getDefaultFavorites:function(){return c}});var r=n(28683),o=n(39863);function u(e){return{baseCode:e.base_code,conversionRates:e.conversion_rates,timeLastUpdate:e.time_last_update_unix,timeNextUpdate:e.time_next_update_unix}}function a(e){return e.replace(/[^0-9.]/g,"").replace(/(\..*?)\..*/g,"$1")}function i(e,t,n,o){return e.map((function(e){return(0,r.Z)((0,r.Z)({},e),{},{exRate:s(t,n,e.currencyCode,Number(o))})}))}function c(){return o.defaultFavorites.map((function(e){return{currencyCode:e,exRate:null}}))}function s(e,t,n,r){var o=r,u=e[t];return+(e[n]*o/u).toFixed(2)}},78516:function(e,t,n){n.r(t),n.d(t,{T_CurrencyExActionTypes:function(){return g},useCurrencyExReducer:function(){return v}});var r=n(15861),o=n(30907);var u=n(59199),a=n(40181);function i(e){return function(e){if(Array.isArray(e))return(0,o.Z)(e)}(e)||(0,u.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var c=n(28683),s=n(29439),f=n(87757),d=n.n(f),p=n(72791),l=n(1862),m=n(46091);function v(){var e=(0,p.useReducer)(y,{inputCode:(0,m.fetchInputCodeSync)(),targetCode:(0,m.fetchTargetCodeSync)(),inputAmount:"",favorites:(0,l.getDefaultFavorites)()}),t=(0,s.Z)(e,2),n=t[0],o=t[1];return function(e){(0,p.useEffect)((function(){var t=function(){var t=(0,r.Z)(d().mark((function t(){var n;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,m.fetchCurrencyExData)();case 2:(n=t.sent)&&e([g.setData,n.conversionRates]);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[])}(o),[n,o]}var g,y=function(e,t){var n=(0,s.Z)(t,2),r=n[0],o=n[1];switch(r){case g.setData:return(0,c.Z)((0,c.Z)({},e),{},{conversionRates:o});case g.setInputCode:return(0,c.Z)((0,c.Z)({},e),{},{inputCode:o,favorites:e.conversionRates&&Number(e.inputAmount)>0?(0,l.getFavoritesWithExRates)(e.favorites,e.conversionRates,o,e.inputAmount):e.favorites});case g.setTargetCode:return(0,c.Z)((0,c.Z)({},e),{},{targetCode:o});case g.setInputAmount:var u=(0,l.sanitizeInputAmount)(o);return u===e.inputAmount?e:(0,c.Z)((0,c.Z)({},e),{},{inputAmount:u,favorites:e.conversionRates?(0,l.getFavoritesWithExRates)(e.favorites,e.conversionRates,e.inputCode,u):e.favorites});case g.setCurrencyToValue:return(0,c.Z)((0,c.Z)({},e),{},{currencyToValue:o});case g.toggleFavorite:var a=e.favorites.filter(o);return a.length<e.favorites.length?(0,c.Z)((0,c.Z)({},e),{},{favorites:a}):(0,c.Z)((0,c.Z)({},e),{},{favorites:[].concat(i(e.favorites),[o])});default:return e}};!function(e){e[e.setData=0]="setData",e[e.setInputCode=1]="setInputCode",e[e.setTargetCode=2]="setTargetCode",e[e.setInputAmount=3]="setInputAmount",e[e.setCurrencyToValue=4]="setCurrencyToValue",e[e.toggleFavorite=5]="toggleFavorite"}(g||(g={}))},28683:function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,{Z:function(){return u}})}}]);
//# sourceMappingURL=516.188acba7.chunk.js.map