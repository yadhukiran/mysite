{"version":3,"file":"static/js/862.059fde90.chunk.js","mappings":"sRAEO,IAAMA,EAAmB,MACnBC,EAAoB,MACpBC,EAAmB,CAC9B,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OAGWC,EAA6B,CACxCC,IAAK,CACHC,KAAM,eACNC,OAAQ,OACRC,YAAa,MAEfC,IAAK,CACHH,KAAM,YACNC,OAAQ,IACRC,YAAa,MAEfE,IAAK,CACHJ,KAAM,sBACNC,OAAQ,OACRC,YAAa,MAEfG,IAAK,CACHL,KAAM,OACNC,OAAQ,SACRC,YAAa,MAEfI,IAAK,CACHN,KAAM,eACNC,OAAQ,SACRC,YAAa,MAEfK,IAAK,CACHP,KAAM,gBACNC,OAAQ,SACRC,YAAa,MAEfM,IAAK,CACHR,KAAM,eACNC,OAAQ,SACRC,YAAa,MAEfO,IAAK,CACHT,KAAM,qBACNC,OAAQ,IACRC,YAAa,MAEfQ,IAAK,CACHV,KAAM,oBACNC,OAAQ,IACRC,YAAa,MAEfS,IAAK,CACHX,KAAM,kBACNC,OAAQ,IACRC,YAAa,Q,6OC7DV,SAASU,EAA0BC,GACxC,MAAO,CACLC,SAAUD,EAASE,UACnBC,gBAAiBH,EAASI,iBAC1BC,eAAgBL,EAASM,sBACzBC,eAAgBP,EAASQ,uBAItB,SAASC,EAAoBC,GAClC,OAAOA,EACJC,QAAQ,WAAY,IACpBA,QAAQ,eAAgB,MAGtB,SAASC,EACdC,EACAV,EACAW,EACAC,GAEA,OAAOF,EAAUG,KAAI,SAACC,GAAD,eAAC,UACjBA,GADgB,IAEnBC,OAAQC,EACNhB,EACAW,EACAG,EAAQG,aACRC,OAAON,SAKN,SAASO,IACd,OAAOC,EAAAA,iBAAAA,KAAuC,SAACC,GAAD,MAAW,CACvDJ,aAAcI,EACdN,OAAQ,SAqBZ,SAASC,EACPhB,EACAW,EACAW,EACAV,GAEA,IAAMW,EAAIX,EACJY,EAAKxB,EAAgBW,GAG3B,QAFWX,EAAgBsB,GAEZC,EAAKC,GAAIC,QAAQ,K,sBCtEnB,SAASC,EAAgBC,EAAKC,EAAKrB,GAYhD,OAXIqB,KAAOD,EACTE,OAAOC,eAAeH,EAAKC,EAAK,CAC9BrB,MAAOA,EACPwB,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZN,EAAIC,GAAOrB,EAGNoB,ECVT,SAASO,EAAQC,EAAQC,GACvB,IAAIC,EAAOR,OAAOQ,KAAKF,GAEvB,GAAIN,OAAOS,sBAAuB,CAChC,IAAIC,EAAUV,OAAOS,sBAAsBH,GAC3CC,IAAmBG,EAAUA,EAAQC,QAAO,SAAUC,GACpD,OAAOZ,OAAOa,yBAAyBP,EAAQM,GAAKV,eACjDM,EAAKM,KAAKC,MAAMP,EAAME,GAG7B,OAAOF,EAGM,SAASQ,EAAeC,GACrC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAAS,MAAQF,UAAUD,GAAKC,UAAUD,GAAK,GACnDA,EAAI,EAAIb,EAAQL,OAAOqB,IAAS,GAAIC,SAAQ,SAAUvB,GACpD,EAAekB,EAAQlB,EAAKsB,EAAOtB,OAChCC,OAAOuB,0BAA4BvB,OAAOwB,iBAAiBP,EAAQjB,OAAOuB,0BAA0BF,IAAWhB,EAAQL,OAAOqB,IAASC,SAAQ,SAAUvB,GAC5JC,OAAOC,eAAegB,EAAQlB,EAAKC,OAAOa,yBAAyBQ,EAAQtB,OAI/E,OAAOkB,E","sources":["constants/currencyEx.ts","models/currencyEx.ts","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"sourcesContent":["import { T_Object } from \"types/generic\";\n\nexport const defaultInputCode = \"USD\";\nexport const defaultTargetCode = \"USD\";\nexport const defaultFavorites = [\n  \"INR\",\n  \"NZD\",\n  \"USD\",\n  \"AUD\",\n  \"CAD\",\n  \"GBP\",\n  \"EUR\",\n  \"JPY\",\n  \"CNY\"\n];\n\nexport const currencyMap: T_CurrencyMap = {\n  JPY: {\n    name: \"Japanese Yen\",\n    symbol: \"¥\",\n    countryCode: \"JP\"\n  },\n  USD: {\n    name: \"US Dollar\",\n    symbol: \"$\",\n    countryCode: \"US\"\n  },\n  GBP: {\n    name: \"Great British Pound\",\n    symbol: \"£\",\n    countryCode: \"GB\"\n  },\n  EUR: {\n    name: \"Euro\",\n    symbol: \"€\",\n    countryCode: \"EU\"\n  },\n  INR: {\n    name: \"Indian Rupee\",\n    symbol: \"₹\",\n    countryCode: \"IN\"\n  },\n  RUB: {\n    name: \"Russian Ruble\",\n    symbol: \"₽\",\n    countryCode: \"RU\"\n  },\n  CNY: {\n    name: \"Chinese Yuan\",\n    symbol: \"元\",\n    countryCode: \"CN\"\n  },\n  NZD: {\n    name: \"New Zealand Dollar\",\n    symbol: \"$\",\n    countryCode: \"NZ\"\n  },\n  AUD: {\n    name: \"Australian Dollar\",\n    symbol: \"$\",\n    countryCode: \"AU\"\n  },\n  CAD: {\n    name: \"Canadian Dollar\",\n    symbol: \"$\",\n    countryCode: \"CA\"\n  }\n};\n\n/**\n * Types\n */\nexport type T_CurrencyMapItem = Record<\n  \"name\" | \"symbol\" | \"countryCode\",\n  string\n>;\n\nexport type T_CurrencyMap = T_Object<T_CurrencyMapItem>;\n","import * as CONST_CURRENCY_EX from \"constants/currencyEx\";\nimport { T_FavoriteWithExRate } from \"pages/Tools/Money/CurrencyEx/hooks\";\nimport { T_Nullable, T_Object } from \"types/generic\";\n\nexport function mapCurrencyExRateResponse(response: T_CurrencyExResponse) {\n  return {\n    baseCode: response.base_code,\n    conversionRates: response.conversion_rates,\n    timeLastUpdate: response.time_last_update_unix,\n    timeNextUpdate: response.time_next_update_unix\n  };\n}\n\nexport function sanitizeInputAmount(value: string) {\n  return value\n    .replace(/[^0-9.]/g, \"\") // allow only number\n    .replace(/(\\..*?)\\..*/g, \"$1\"); // allow only one decimal\n}\n\nexport function getFavoritesWithExRates(\n  favorites: T_FavoriteWithExRate[],\n  conversionRates: T_Object<number>,\n  inputCode: string,\n  inputAmount: string\n) {\n  return favorites.map((favItem) => ({\n    ...favItem,\n    exRate: calculateExRate(\n      conversionRates,\n      inputCode,\n      favItem.currencyCode,\n      Number(inputAmount)\n    )\n  }));\n}\n\nexport function getDefaultFavorites() {\n  return CONST_CURRENCY_EX.defaultFavorites.map((code) => ({\n    currencyCode: code,\n    exRate: null\n  }));\n}\n\n/**\n * Assume:\n *    base currency code (from API): USD\n *    input currency code: EUR\n *    input amount: x\n *    target currency code: YYY\n *\n * and we know (from API):\n *    1 USD = n1 EUR\n *    1 USD = n2 YYY\n *\n * then,\n *               1 EUR  =  (1 / n1) USD\n *               x EUR  =  x * (1 / n1) USD\n *    x * (1 / n1) USD  =  n2 * x * (1 / n1) YYY\n *               x EUR  =  n2 * x * / n1 YYY\n */\nfunction calculateExRate(\n  conversionRates: T_Object<number>,\n  inputCode: string,\n  targetCode: string,\n  inputAmount: number\n) {\n  const x = inputAmount;\n  const n1 = conversionRates[inputCode];\n  const n2 = conversionRates[targetCode];\n\n  return +((n2 * x) / n1).toFixed(2);\n}\n\n/**\n * Types\n */\nexport interface T_CurrencyExResponse {\n  conversion_rates: T_Object<number>;\n  base_code: string;\n  time_last_update_unix: number;\n  time_last_update_utc: string;\n  time_next_update_unix: number;\n  time_next_update_utc: string;\n}\n\nexport type T_CurrencyExData = ReturnType<typeof mapCurrencyExRateResponse>;\n\nexport type T_CurrencyMapWithRates = T_Object<\n  CONST_CURRENCY_EX.T_CurrencyMapItem & { conversionRate: T_Nullable<number> }\n>;\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}"],"names":["defaultInputCode","defaultTargetCode","defaultFavorites","currencyMap","JPY","name","symbol","countryCode","USD","GBP","EUR","INR","RUB","CNY","NZD","AUD","CAD","mapCurrencyExRateResponse","response","baseCode","base_code","conversionRates","conversion_rates","timeLastUpdate","time_last_update_unix","timeNextUpdate","time_next_update_unix","sanitizeInputAmount","value","replace","getFavoritesWithExRates","favorites","inputCode","inputAmount","map","favItem","exRate","calculateExRate","currencyCode","Number","getDefaultFavorites","CONST_CURRENCY_EX","code","targetCode","x","n1","toFixed","_defineProperty","obj","key","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties"],"sourceRoot":""}