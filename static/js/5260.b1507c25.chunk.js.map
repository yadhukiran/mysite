{"version":3,"file":"static/js/5260.b1507c25.chunk.js","mappings":"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","sources":["../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","components/UnitConverter/hooks.ts","images/delete.svg","images/swap.svg","components/UnitConverter/index.tsx","components/UnitConverter/types.ts","constants/tools/unitConverter.ts","helpers/number.ts","helpers/pageCache.ts","helpers/webStorage.ts","models/unitConverter.ts","webpack://mysite-dev/./src/components/UnitConverter/styles.scss?2070","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"sourcesContent":["import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React, { useEffect, useMemo, useRef } from \"react\";\nimport { useLocation } from \"react-router-dom\";\n\nimport PageCache from \"helpers/pageCache\";\nimport {\n  calculateConversionRate,\n  calculateConversionRateForFavorites,\n  sanitizeNumericInput,\n  getDefaultFavorites\n} from \"models/unitConverter\";\nimport * as CONST_UNIT_CONVERTER from \"constants/tools/unitConverter\";\nimport {\n  E_PageCacheKeys,\n  E_UnitConverterActions,\n  T_ConverionRateAPIFn,\n  T_FavoriteCodes,\n  T_UnitConverterAction,\n  T_UnitConverterPropsDefaults,\n  T_UnitConverterState\n} from \"./types\";\n\nexport function useConversionRates(\n  dispatch: React.Dispatch<T_UnitConverterAction>,\n  conversionRatesAPI?: T_ConverionRateAPIFn\n) {\n  useEffect(() => {\n    const fetchData = async () => {\n      if (conversionRatesAPI) {\n        let result = await conversionRatesAPI();\n\n        if (result) {\n          dispatch([E_UnitConverterActions.setConversionRates, result]);\n        }\n      }\n    };\n\n    fetchData();\n  }, [conversionRatesAPI, dispatch]);\n}\n\nexport function useElementHandlers(\n  dispatch: React.Dispatch<T_UnitConverterAction>,\n  pageCache: PageCache\n) {\n  const inputValueEl = useRef<HTMLInputElement>(null);\n  const targetValueEl = useRef<HTMLInputElement>(null);\n\n  const eventHandlers = useMemo(() => {\n    const handleInputValueChange = (\n      event: React.ChangeEvent<HTMLInputElement>\n    ) => dispatch([E_UnitConverterActions.setInputValue, event.target.value]);\n    const handleTargetValueChange = (\n      event: React.ChangeEvent<HTMLInputElement>\n    ) => dispatch([E_UnitConverterActions.setTargetValue, event.target.value]);\n    const handleListItemAction = (\n      event: React.MouseEvent<HTMLButtonElement, MouseEvent>\n    ) => {\n      const { code, actionName } = event.currentTarget.dataset;\n      if (code && actionName) {\n        switch (\n          actionName as unknown as CONST_UNIT_CONVERTER.E_UnitConverterListItemActions\n        ) {\n          case CONST_UNIT_CONVERTER.E_UnitConverterListItemActions.input: {\n            pageCache.set(E_PageCacheKeys.inputCode, code);\n            dispatch([E_UnitConverterActions.setInputCode, code]);\n            inputValueEl.current?.focus();\n            return;\n          }\n          case CONST_UNIT_CONVERTER.E_UnitConverterListItemActions.target: {\n            pageCache.set(E_PageCacheKeys.targetCode, code);\n            dispatch([E_UnitConverterActions.setTargetCode, code]);\n            targetValueEl.current?.focus();\n            return;\n          }\n          default:\n            return;\n        }\n      }\n    };\n    const handleInputTargetCodeSwapClick = (\n      inputCode: string,\n      targetCode: string\n    ) => {\n      pageCache.set(E_PageCacheKeys.inputCode, targetCode);\n      pageCache.set(E_PageCacheKeys.targetCode, inputCode);\n      dispatch([E_UnitConverterActions.swapInputTargetCode]);\n      inputValueEl.current?.focus();\n    };\n    const handleInputClearClick = () => {\n      dispatch([E_UnitConverterActions.setInputValue, \"\"]);\n      inputValueEl.current?.focus();\n    };\n    const handleTargetClearClick = () => {\n      dispatch([E_UnitConverterActions.setTargetValue, \"\"]);\n      targetValueEl.current?.focus();\n    };\n\n    return {\n      handleInputValueChange,\n      handleTargetValueChange,\n      handleListItemAction,\n      handleInputClearClick,\n      handleTargetClearClick,\n      handleInputTargetCodeSwapClick\n    };\n  }, [dispatch, pageCache]);\n\n  return {\n    inputValueEl,\n    targetValueEl,\n    ...eventHandlers\n  };\n}\n\nexport function useDefaults(defaults: T_UnitConverterPropsDefaults) {\n  const location = useLocation();\n\n  return useMemo(() => {\n    const pageCache = new PageCache(location.pathname);\n    return {\n      inputCode:\n        pageCache.get<string>(E_PageCacheKeys.inputCode) || defaults.inputCode,\n      targetCode:\n        pageCache.get<string>(E_PageCacheKeys.targetCode) ||\n        defaults.targetCode,\n      favorites: getDefaultFavorites(\n        (pageCache.get(E_PageCacheKeys.favoriteCodes) as T_FavoriteCodes) ||\n          defaults.favoriteCodes\n      ),\n      pageCache\n    };\n  }, [location, defaults]);\n}\n\nexport const unitConverterReducer = (\n  state: T_UnitConverterState,\n  [type, payload]: T_UnitConverterAction\n) => {\n  switch (type) {\n    case E_UnitConverterActions.setConversionRates:\n      return {\n        ...state,\n        conversionRates: payload\n      };\n\n    case E_UnitConverterActions.setInputCode: {\n      const newTargetValue =\n        state.conversionRates && Number(state.inputValue) > 0\n          ? calculateConversionRate(\n              state.conversionRates,\n              payload,\n              state.targetCode,\n              Number(state.inputValue)\n            )\n          : state.targetValue;\n\n      return {\n        ...state,\n        inputCode: payload,\n        targetValue: newTargetValue,\n        favorites:\n          state.conversionRates && Number(state.inputValue) > 0\n            ? calculateConversionRateForFavorites(\n                state.favorites,\n                state.conversionRates,\n                payload,\n                state.inputValue\n              )\n            : state.favorites\n      };\n    }\n\n    case E_UnitConverterActions.setTargetCode: {\n      const newInputValue =\n        state.conversionRates && Number(state.targetValue) > 0\n          ? calculateConversionRate(\n              state.conversionRates,\n              payload,\n              state.inputCode,\n              Number(state.targetValue)\n            )\n          : state.inputValue;\n\n      return {\n        ...state,\n        targetCode: payload,\n        inputValue: newInputValue,\n        favorites:\n          state.conversionRates && Number(newInputValue) > 0\n            ? calculateConversionRateForFavorites(\n                state.favorites,\n                state.conversionRates,\n                payload,\n                newInputValue\n              )\n            : state.favorites\n      };\n    }\n\n    case E_UnitConverterActions.swapInputTargetCode: {\n      return {\n        ...state,\n        inputCode: state.targetCode,\n        targetCode: state.inputCode,\n        inputValue: state.targetValue,\n        targetValue: state.inputValue\n      };\n    }\n\n    case E_UnitConverterActions.setInputValue: {\n      const sanitizedInputValue = sanitizeNumericInput(payload);\n\n      // Avoid state update (and re-render) if there is no change\n      if (sanitizedInputValue === state.inputValue) {\n        return state;\n      }\n\n      return {\n        ...state,\n        inputValue: sanitizedInputValue,\n        targetValue: state.conversionRates\n          ? calculateConversionRate(\n              state.conversionRates,\n              state.inputCode,\n              state.targetCode,\n              Number(sanitizedInputValue)\n            )\n          : state.targetValue,\n        favorites: state.conversionRates\n          ? calculateConversionRateForFavorites(\n              state.favorites,\n              state.conversionRates,\n              state.inputCode,\n              sanitizedInputValue\n            )\n          : state.favorites\n      };\n    }\n\n    case E_UnitConverterActions.setTargetValue: {\n      const sanitizedTargetValue = sanitizeNumericInput(payload);\n\n      // Avoid state update (and re-render) if there is no change\n      if (sanitizedTargetValue === state.targetValue) {\n        return state;\n      }\n\n      const newInputValue = state.conversionRates\n        ? calculateConversionRate(\n            state.conversionRates,\n            state.targetCode,\n            state.inputCode,\n            Number(sanitizedTargetValue)\n          )\n        : state.inputValue;\n\n      return {\n        ...state,\n        inputValue: newInputValue,\n        targetValue: sanitizedTargetValue,\n        favorites: state.conversionRates\n          ? calculateConversionRateForFavorites(\n              state.favorites,\n              state.conversionRates,\n              state.inputCode,\n              newInputValue\n            )\n          : state.favorites\n      };\n    }\n\n    case E_UnitConverterActions.toggleFavorite: {\n      const favoritesArrWithoutPayloadItem = state.favorites.filter(payload);\n\n      // Check if the filtering resulted in a smaller array than state.favorites\n      if (favoritesArrWithoutPayloadItem.length < state.favorites.length) {\n        // This means that the supplied item already existed in state.favorites\n        // and we just obtained an array after removing it.\n        return {\n          ...state,\n          favorites: favoritesArrWithoutPayloadItem\n        };\n      }\n\n      // Otherwise it means that payload item is a new item to be favorited\n      return {\n        ...state,\n        favorites: [...state.favorites, payload]\n      };\n    }\n    default:\n      return state;\n  }\n};\n","var _g, _g2, _g3, _g4, _g5, _g6, _g7, _g8, _g9, _g10, _g11, _g12, _g13, _g14, _g15, _g16;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgDelete(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 489.425 489.425\",\n    style: {\n      enableBackground: \"new 0 0 489.425 489.425\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M122.825,394.663c17.8,19.4,43.2,30.6,69.5,30.6h216.9c44.2,0,80.2-36,80.2-80.2v-200.7c0-44.2-36-80.2-80.2-80.2h-216.9 c-26.4,0-51.7,11.1-69.5,30.6l-111.8,121.7c-14.7,16.1-14.7,40.3,0,56.4L122.825,394.663z M29.125,233.063l111.8-121.8 c13.2-14.4,32-22.6,51.5-22.6h216.9c30.7,0,55.7,25,55.7,55.7v200.6c0,30.7-25,55.7-55.7,55.7h-217c-19.5,0-38.3-8.2-51.5-22.6 l-111.7-121.8C23.025,249.663,23.025,239.663,29.125,233.063z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M225.425,309.763c2.4,2.4,5.5,3.6,8.7,3.6s6.3-1.2,8.7-3.6l47.8-47.8l47.8,47.8c2.4,2.4,5.5,3.6,8.7,3.6s6.3-1.2,8.7-3.6 c4.8-4.8,4.8-12.5,0-17.3l-47.9-47.8l47.8-47.8c4.8-4.8,4.8-12.5,0-17.3s-12.5-4.8-17.3,0l-47.8,47.8l-47.8-47.8 c-4.8-4.8-12.5-4.8-17.3,0s-4.8,12.5,0,17.3l47.8,47.8l-47.8,47.8C220.725,297.263,220.725,304.962,225.425,309.763z\"\n  })))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null)), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", null)), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", null)), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", null)), _g6 || (_g6 = /*#__PURE__*/React.createElement(\"g\", null)), _g7 || (_g7 = /*#__PURE__*/React.createElement(\"g\", null)), _g8 || (_g8 = /*#__PURE__*/React.createElement(\"g\", null)), _g9 || (_g9 = /*#__PURE__*/React.createElement(\"g\", null)), _g10 || (_g10 = /*#__PURE__*/React.createElement(\"g\", null)), _g11 || (_g11 = /*#__PURE__*/React.createElement(\"g\", null)), _g12 || (_g12 = /*#__PURE__*/React.createElement(\"g\", null)), _g13 || (_g13 = /*#__PURE__*/React.createElement(\"g\", null)), _g14 || (_g14 = /*#__PURE__*/React.createElement(\"g\", null)), _g15 || (_g15 = /*#__PURE__*/React.createElement(\"g\", null)), _g16 || (_g16 = /*#__PURE__*/React.createElement(\"g\", null)));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDelete);\nexport default __webpack_public_path__ + \"static/media/delete.3556d1eb7ff0c2a1ea66073930c3c951.svg\";\nexport { ForwardRef as ReactComponent };","var _g, _g2, _g3, _g4, _g5, _g6, _g7, _g8, _g9, _g10, _g11, _g12, _g13, _g14, _g15;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSwap(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 512.006 512.006\",\n    style: {\n      enableBackground: \"new 0 0 512.006 512.006\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#D83249\"\n    },\n    d: \"M23.151,149.616l115.072,115.072c7.901,7.901,20.713,7.901,28.614,0s7.901-20.713,0-28.614 l-44.568-44.568h316.313v-0.001c31.036,0,56.198-25.16,56.198-56.198c0-31.036-25.16-56.198-56.198-56.198H122.269l44.568-44.568 c3.951-3.951,5.927-9.129,5.927-14.308s-1.976-10.357-5.927-14.308c-7.901-7.901-20.713-7.901-28.614,0L23.151,121.002 C15.25,128.903,15.25,141.715,23.151,149.616z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#FF4F59\"\n    },\n    d: \"M23.151,149.616l115.072,115.072c7.901,7.901,20.713,7.901,28.614,0s7.901-20.713,0-28.614 l-44.568-44.568h139.247V79.111H122.269l44.568-44.568c3.951-3.951,5.927-9.129,5.927-14.308s-1.976-10.357-5.927-14.308 c-7.901-7.901-20.713-7.901-28.614,0L23.151,121.002C15.25,128.903,15.25,141.715,23.151,149.616z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#CFCDCF\"\n    },\n    d: \"M488.855,362.39L373.783,247.318c-7.901-7.901-20.713-7.901-28.614,0 c-7.901,7.901-7.901,20.713,0,28.614l44.567,44.568H73.423v0.001c-31.036,0-56.198,25.16-56.198,56.198 c0,31.036,25.16,56.198,56.198,56.198h316.314l-44.568,44.568c-3.951,3.951-5.927,9.129-5.927,14.308 c0,5.179,1.976,10.357,5.927,14.308c7.901,7.901,20.713,7.901,28.614,0l115.072-115.072 C496.757,383.103,496.757,370.291,488.855,362.39z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#B1B0BC\"\n    },\n    d: \"M488.855,362.39L373.783,247.318c-7.901-7.901-20.713-7.901-28.614,0 c-7.901,7.901-7.901,20.713,0,28.614l44.567,44.568H261.518v112.395h128.218l-44.568,44.568c-3.951,3.951-5.927,9.129-5.927,14.308 c0,5.179,1.976,10.357,5.927,14.308c7.901,7.901,20.713,7.901,28.614,0l115.072-115.072 C496.757,383.103,496.757,370.291,488.855,362.39z\"\n  }), _g || (_g = /*#__PURE__*/React.createElement(\"g\", null)), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null)), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", null)), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", null)), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", null)), _g6 || (_g6 = /*#__PURE__*/React.createElement(\"g\", null)), _g7 || (_g7 = /*#__PURE__*/React.createElement(\"g\", null)), _g8 || (_g8 = /*#__PURE__*/React.createElement(\"g\", null)), _g9 || (_g9 = /*#__PURE__*/React.createElement(\"g\", null)), _g10 || (_g10 = /*#__PURE__*/React.createElement(\"g\", null)), _g11 || (_g11 = /*#__PURE__*/React.createElement(\"g\", null)), _g12 || (_g12 = /*#__PURE__*/React.createElement(\"g\", null)), _g13 || (_g13 = /*#__PURE__*/React.createElement(\"g\", null)), _g14 || (_g14 = /*#__PURE__*/React.createElement(\"g\", null)), _g15 || (_g15 = /*#__PURE__*/React.createElement(\"g\", null)));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSwap);\nexport default __webpack_public_path__ + \"static/media/swap.879a49335bf9b6183ffea43623e20dd4.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useReducer } from \"react\";\n\nimport deleteIcon from \"images/delete.svg\";\nimport swapIcon from \"images/swap.svg\";\nimport {\n  unitConverterReducer,\n  useConversionRates,\n  useDefaults,\n  useElementHandlers\n} from \"./hooks\";\nimport \"./styles.scss\";\nimport {\n  T_FavoriteItemWithValue,\n  T_UnitConverterProps,\n  T_UnitConverterState\n} from \"./types\";\nimport * as CONST_UNIT_CONVERTER from \"constants/tools/unitConverter\";\n\nexport default function UnitConverter(props: T_UnitConverterProps) {\n  const defaults = useDefaults(props.defaults);\n  const [state, dispatch] = useReducer(unitConverterReducer, {\n    inputCode: defaults.inputCode,\n    targetCode: defaults.targetCode,\n    inputValue: \"\",\n    targetValue: \"\",\n    favorites: defaults.favorites\n  });\n  useConversionRates(dispatch, props.conversionRatesAPI);\n  const {\n    handleInputValueChange,\n    handleTargetValueChange,\n    handleListItemAction,\n    handleInputClearClick,\n    handleTargetClearClick,\n    handleInputTargetCodeSwapClick,\n    inputValueEl,\n    targetValueEl\n  } = useElementHandlers(dispatch, defaults.pageCache);\n\n  return (\n    <div className=\"MoneyEx\">\n      <div className=\"gridContainer\">\n        <div className=\"inputContainer\">\n          {[\n            /**\n             * Input unit\n             */\n            {\n              code: state.inputCode,\n              valueEl: inputValueEl,\n              value: state.inputValue ?? (state.targetValue === 0 ? 0 : \"\"),\n              placeholder: \"input...\",\n              onClearClick: handleInputClearClick,\n              onValueChange: handleInputValueChange\n            },\n            /**\n             * Target unit\n             */\n            {\n              code: state.targetCode,\n              valueEl: targetValueEl,\n              value: state.targetValue ?? (state.inputValue === 0 ? 0 : \"\"),\n              placeholder: \"target...\",\n              onClearClick: handleTargetClearClick,\n              onValueChange: handleTargetValueChange\n            }\n          ].map((inputField) => {\n            const unitMapInfo = props.allUnitsMap[inputField.code];\n            const hasIcon = props.UnitIconComponent || unitMapInfo.icon;\n\n            return (\n              <div key={inputField.code} className=\"inputItem\">\n                {props.UnitIconComponent && unitMapInfo.altCode ? (\n                  <props.UnitIconComponent\n                    code={unitMapInfo.altCode}\n                    wrapperClassName=\"inputUnitIconComponent\"\n                  />\n                ) : (\n                  unitMapInfo.icon\n                )}\n                <span className=\"inputItemCodeSymbol\">\n                  {hasIcon ? `${inputField.code} ` : \"\"}\n                  {unitMapInfo.symbol}\n                </span>\n                <input\n                  autoFocus\n                  ref={inputField.valueEl}\n                  maxLength={12}\n                  inputMode=\"numeric\"\n                  placeholder={inputField.placeholder}\n                  className=\"inputField\"\n                  type=\"text\"\n                  onChange={inputField.onValueChange}\n                  value={inputField.value}\n                />\n                <img\n                  src={deleteIcon}\n                  onClick={inputField.onClearClick}\n                  className={`clearInputIcon ${\n                    inputField.value !== \"\" ? \"visible\" : \"invisible\"\n                  }`}\n                  alt=\"close\"\n                />\n              </div>\n            );\n          })}\n          <span className=\"inputItemsSeparator\" />\n          <img\n            src={swapIcon}\n            className=\"swapIcon\"\n            alt=\"Swap Icon\"\n            onClick={() =>\n              handleInputTargetCodeSwapClick(state.inputCode, state.targetCode)\n            }\n          />\n          {/* <button className=\"swapIcon inputContainerItemsOrdering\">SWAP</button> */}\n        </div>\n        <div className=\"favList\">\n          {getUnitListMarkup({\n            favorites: state.favorites,\n            allUnitsMap: props.allUnitsMap,\n            handleListItemAction,\n            currentInputCode: state.inputCode,\n            currentTargetCode: state.targetCode,\n            UnitIconComponent: props.UnitIconComponent\n          })}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction getUnitListMarkup({\n  handleListItemAction,\n  allUnitsMap,\n  favorites,\n  currentInputCode,\n  currentTargetCode,\n  UnitIconComponent\n}: {\n  handleListItemAction: (\n    event: React.MouseEvent<HTMLButtonElement, MouseEvent>\n  ) => void;\n  allUnitsMap: T_UnitConverterProps[\"allUnitsMap\"];\n  favorites?: T_UnitConverterState[\"favorites\"];\n  currentInputCode?: T_UnitConverterState[\"inputCode\"];\n  currentTargetCode?: T_UnitConverterState[\"targetCode\"];\n  UnitIconComponent?: T_UnitConverterProps[\"UnitIconComponent\"];\n}) {\n  const arrSource = favorites || Object.keys(allUnitsMap);\n\n  return (\n    <>\n      {arrSource.map((unit) => {\n        const code = favorites\n          ? (unit as T_FavoriteItemWithValue).code\n          : (unit as string);\n\n        // Do not render the currency item that is already the input/target\n        if (code === currentInputCode || code === currentTargetCode) {\n          return null;\n        }\n\n        const unitMapInfo = allUnitsMap[code];\n        const hasIcon = UnitIconComponent || unitMapInfo.icon;\n\n        return (\n          <div className=\"itemContainer\" key={code}>\n            <div className=\"itemInfoContainer\">\n              <div className=\"codeFlagGroup\">\n                {hasIcon ? (\n                  <>\n                    {UnitIconComponent && unitMapInfo.altCode ? (\n                      <UnitIconComponent\n                        code={unitMapInfo.altCode}\n                        wrapperClassName=\"-mt-1 pr-2\"\n                      />\n                    ) : (\n                      unitMapInfo.icon\n                    )}\n                    {code}\n                  </>\n                ) : (\n                  <span className=\"text-xl\">{unitMapInfo.symbol}</span>\n                )}\n              </div>\n              <div className=\"favItemRightGroup\">\n                {favorites && (\n                  <div className=\"favItemSymbolValueGroup\">\n                    {hasIcon && (\n                      <span className=\"favItemSymbol\">\n                        {unitMapInfo.symbol || \"\"}\n                      </span>\n                    )}\n                    <span className=\"exRate\">\n                      &nbsp;\n                      {(unit as T_FavoriteItemWithValue).value ?? 0}\n                    </span>\n                  </div>\n                )}\n                <div className=\"name\">\n                  {(code && unitMapInfo?.name) || \"...\"}\n                </div>\n              </div>\n            </div>\n            <div className=\"favItemActionBtnGroup\">\n              {[\n                CONST_UNIT_CONVERTER.E_UnitConverterListItemActions.input,\n                CONST_UNIT_CONVERTER.E_UnitConverterListItemActions.target\n              ].map((btnName) => (\n                <button\n                  key={btnName}\n                  className=\"favItemActionBtn\"\n                  data-code={code}\n                  data-action-name={btnName}\n                  onClick={handleListItemAction}\n                >\n                  {btnName}\n                </button>\n              ))}\n            </div>\n          </div>\n        );\n      })}\n    </>\n  );\n}\n","import React from \"react\";\nimport {\n  T_ConversionFomulas,\n  T_UnitConversionMap\n} from \"types/tools/unitConverter\";\nimport { T_Nullable, T_Object } from \"types/generic\";\n\nexport const enum E_PageCacheKeys {\n  inputCode = \"inputCode\",\n  targetCode = \"targetCode\",\n  favoriteCodes = \"favoriteCodes\"\n}\n\nexport const enum E_UnitConverterActions {\n  setConversionRates,\n  setInputCode,\n  setTargetCode,\n  setInputValue,\n  setTargetValue,\n  swapInputTargetCode,\n  toggleFavorite\n}\n\nexport type T_ConverionRateAPIFn = (...args: any[]) => Promise<\n  | {\n      conversionRates: T_ConversionRates;\n    }\n  | undefined\n  | null\n>;\n\nexport type T_UnitConverterPropsDefaults = {\n  inputCode: string;\n  targetCode: string;\n  favoriteCodes: T_FavoriteCodes;\n};\n\nexport type T_UnitConverterProps = {\n  conversionRatesAPI?: T_ConverionRateAPIFn;\n  conversionRates?: T_ConversionRates;\n  convesionFormulas?: T_ConversionFomulas;\n  allUnitsMap: T_UnitConversionMap;\n  defaults: T_UnitConverterPropsDefaults;\n  UnitIconComponent?: React.ComponentType<{\n    code: string;\n    wrapperClassName?: string;\n    iconClassName?: string;\n  }>;\n};\n\nexport type T_FavoriteItemWithValue = {\n  code: string;\n  value: T_Nullable<number>;\n};\n\nexport type T_FavoriteCodes = string[];\n\nexport type T_FavoritesWithValue = T_FavoriteItemWithValue[];\n\nexport type T_ConversionRates = T_Object<number>;\n\nexport type T_UnitConverterAction = [\n  type: E_UnitConverterActions,\n  payload?: any\n];\n\nexport type T_UnitConverterState = {\n  conversionRates?: T_ConversionRates;\n  inputCode: string;\n  targetCode: string;\n  favorites: T_FavoritesWithValue;\n  inputValue: string | number;\n  targetValue: string | number;\n};\n","export const enum E_UnitConverterListItemActions {\n  input = \"INPUT\",\n  target = \"TARGET\"\n}\n","export function toNumber(x: any) {\n  return +x;\n}\n\nexport function round(num: number | string, fractionDigits: number = 2) {\n  return toNumber(toNumber(num).toFixed(fractionDigits));\n}\n","import { LocalStorage } from \"helpers/webStorage\";\n\nexport default class PageCache {\n  keyPrefix: string;\n  cachedKeys: string[] = [];\n\n  constructor(pathname: string) {\n    this.keyPrefix = pathname;\n  }\n\n  private getPageKey(key: string) {\n    return `${this.keyPrefix}-${key}`;\n  }\n\n  public set = (key: string, data: any = null): void => {\n    const pageKey = this.getPageKey(key);\n    LocalStorage.setItem(pageKey, JSON.stringify(data));\n    this.cachedKeys.push(key);\n  };\n\n  public get = <Result>(key: string): Result | null => {\n    const pageKey = this.getPageKey(key);\n    return JSON.parse(LocalStorage.getItem(pageKey) ?? \"null\");\n  };\n\n  public remove = (key: string): void => {\n    const pageKey = this.getPageKey(key);\n    LocalStorage.removeItem(pageKey);\n    this.cachedKeys = this.cachedKeys.filter((k) => k !== key);\n  };\n\n  public clearAll = () => {\n    this.cachedKeys.forEach((key) => this.remove(key));\n    this.cachedKeys = [];\n  };\n}\n","export function isStorageSupported(type: string): boolean {\n  try {\n    const storage = (window as { [key: string]: any })[type];\n    const testKey = \"__storage_test__\";\n\n    storage.setItem(testKey, \"1\");\n    storage.removeItem(testKey);\n\n    return true;\n  } catch (error) {\n    return false;\n  }\n}\n\n// Wrapper class for storage\nexport class MemoryStorage {\n  public storage: { [x: string]: string } = {};\n\n  public setItem = (key: string, data: string): void => {\n    const json = (data && data.toString()) || \"\";\n\n    this.storage[key] = json;\n  };\n\n  public getItem = (key: string): string | null => this.storage[key] || \"\";\n\n  public removeItem = (key: string): void => {\n    delete this.storage[key];\n  };\n\n  public clear = () => {\n    this.storage = new MemoryStorage().storage;\n  };\n}\n\nexport const LocalStorage = isStorageSupported(\"localStorage\")\n  ? window.localStorage\n  : new MemoryStorage();\n\nexport const SessionStorage = isStorageSupported(\"sessionStorage\")\n  ? window.sessionStorage\n  : new MemoryStorage();\n","import {\n  T_ConversionRates,\n  T_FavoriteCodes,\n  T_FavoriteItemWithValue,\n  T_FavoritesWithValue\n} from \"components/UnitConverter/types\";\nimport { round } from \"helpers/number\";\n\nexport function sanitizeNumericInput(value: string) {\n  return (\n    value\n      // allow only numbers (with/without decimal values)\n      .replace(/[^0-9.]/g, \"\")\n      // allow only one decimal\n      .replace(/(\\..*?)\\..*/g, \"$1\")\n      // allow leading zero only for decimal values\n      .replace(/^0(\\d)/, \"$1\")\n  );\n}\n\nexport function calculateConversionRateForFavorites(\n  favorites: T_FavoriteItemWithValue[],\n  conversionRates: T_ConversionRates,\n  inputCode: string,\n  inputAmount: string | number\n) {\n  return favorites.map((favItem) => ({\n    ...favItem,\n    value: calculateConversionRate(\n      conversionRates,\n      inputCode,\n      favItem.code,\n      inputAmount\n    )\n  }));\n}\n\nexport function getDefaultFavorites(\n  favoriteCodes: T_FavoriteCodes\n): T_FavoritesWithValue {\n  return favoriteCodes.map((code) => ({ code, value: null }));\n}\n\n/**\n * Assume:\n *    base code (of master data): BBB\n *    input code: CCC\n *    input value: x\n *    target code: YYY\n *\n * and we know (from master data):\n *    1 BBB = n1 CCC\n *    1 BBB = n2 YYY\n *\n * then,\n *               1 CCC  =  (1 / n1) BBB\n *               x CCC  =  x * (1 / n1) BBB\n *    x * (1 / n1) BBB  =  n2 * x * (1 / n1) YYY\n *               x CCC  =  n2 * x * / n1 YYY\n */\nexport function calculateConversionRate(\n  conversionRates: T_ConversionRates,\n  inputCode: string,\n  targetCode: string,\n  inputAmount: string | number\n) {\n  const x = +inputAmount;\n  const n1 = conversionRates[inputCode];\n  const n2 = conversionRates[targetCode];\n\n  return round((n2 * x) / n1);\n}\n","// extracted by mini-css-extract-plugin\nexport default {};","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}"],"names":["_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iterableToArray","unsupportedIterableToArray","TypeError","useConversionRates","dispatch","conversionRatesAPI","useEffect","fetchData","result","E_UnitConverterActions","useElementHandlers","pageCache","inputValueEl","useRef","targetValueEl","eventHandlers","useMemo","handleInputValueChange","event","target","value","handleTargetValueChange","handleListItemAction","currentTarget","dataset","code","actionName","CONST_UNIT_CONVERTER","set","E_PageCacheKeys","current","focus","handleInputClearClick","handleTargetClearClick","handleInputTargetCodeSwapClick","inputCode","targetCode","useDefaults","defaults","location","useLocation","PageCache","pathname","get","favorites","getDefaultFavorites","favoriteCodes","unitConverterReducer","state","type","payload","conversionRates","newTargetValue","Number","inputValue","calculateConversionRate","targetValue","calculateConversionRateForFavorites","newInputValue","sanitizedInputValue","sanitizeNumericInput","sanitizedTargetValue","favoritesArrWithoutPayloadItem","filter","length","UnitConverter","props","useReducer","className","valueEl","placeholder","onClearClick","onValueChange","map","inputField","unitMapInfo","allUnitsMap","hasIcon","UnitIconComponent","icon","altCode","wrapperClassName","symbol","autoFocus","ref","maxLength","inputMode","onChange","src","deleteIcon","onClick","alt","swapIcon","getUnitListMarkup","currentInputCode","currentTargetCode","arrSource","Object","keys","unit","name","btnName","E_UnitConverterListItemActions","toNumber","x","round","num","fractionDigits","toFixed","keyPrefix","cachedKeys","key","data","pageKey","getPageKey","LocalStorage","JSON","stringify","push","parse","remove","k","clearAll","forEach","this","isStorageSupported","storage","window","testKey","setItem","removeItem","error","MemoryStorage","json","toString","getItem","clear","localStorage","SessionStorage","sessionStorage","replace","inputAmount","favItem","n1","n2","_defineProperty","obj","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","apply","_objectSpread2","i","arguments","source","getOwnPropertyDescriptors","defineProperties"],"sourceRoot":""}