"use strict";(self.webpackChunkmysite_dev=self.webpackChunkmysite_dev||[]).push([[5260,2929,3428,8261,2674,9352,2585],{32929:function(e,t,n){n.r(t),n.d(t,{useElementHandlers:function(){return v},useDefaults:function(){return C},createReducer:function(){return p}});var a=n(93433),r=n(29439),o=n(1413),i=n(72791),u=n(16871),s=n(82674),c=n(42585),l=n(98261),d=n(73428);function v(e,t){var n=(0,i.useRef)(null),a=(0,i.useRef)(null),r=(0,i.useMemo)((function(){return{handleInputValueChange:function(t){return e([d.E_UnitConverterActions.setInputValue,t.target.value])},handleTargetValueChange:function(t){return e([d.E_UnitConverterActions.setTargetValue,t.target.value])},handleListItemAction:function(r){var o=r.currentTarget.dataset,i=o.code,u=o.actionName;if(i&&u)switch(u){case l.E_UnitConverterListItemActions.input:var s;return t.set(d.E_PageCacheKeys.inputCode,i),e([d.E_UnitConverterActions.setInputCode,i]),void(null===(s=n.current)||void 0===s||s.focus());case l.E_UnitConverterListItemActions.target:var c;return t.set(d.E_PageCacheKeys.targetCode,i),e([d.E_UnitConverterActions.setTargetCode,i]),void(null===(c=a.current)||void 0===c||c.focus());default:return}},handleInputClearClick:function(){var t;e([d.E_UnitConverterActions.setInputValue,""]),null===(t=n.current)||void 0===t||t.focus()},handleTargetClearClick:function(){var t;e([d.E_UnitConverterActions.setTargetValue,""]),null===(t=a.current)||void 0===t||t.focus()},handleInputTargetCodeSwapClick:function(a,r){var o;t.set(d.E_PageCacheKeys.inputCode,r),t.set(d.E_PageCacheKeys.targetCode,a),e([d.E_UnitConverterActions.swapInputTargetCode]),null===(o=n.current)||void 0===o||o.focus()}}}),[e,t]);return(0,o.Z)({inputValueEl:n,targetValueEl:a},r)}function C(e){var t=(0,u.TH)();return(0,i.useMemo)((function(){var n=new s.default(t.pathname);return{inputCode:n.get(d.E_PageCacheKeys.inputCode)||e.inputCode,targetCode:n.get(d.E_PageCacheKeys.targetCode)||e.targetCode,favorites:(0,c.getDefaultFavorites)(n.get(d.E_PageCacheKeys.favoriteCodes)||e.favoriteCodes),pageCache:n}}),[t,e])}function p(e){return function(t,n){var i=(0,r.Z)(n,2),u=i[0],s=i[1];if(!e.conversionRates&&!e.conversionFormulas)return t;var l={conversionRates:e.conversionRates,conversionFormulas:e.conversionFormulas};switch(u){case d.E_UnitConverterActions.setInputCode:return(0,o.Z)((0,o.Z)({},t),{},{inputCode:s,targetValue:(0,c.calcValue)((0,o.Z)((0,o.Z)({},l),{},{inputCode:s,targetCode:t.targetCode,inputValue:t.inputValue})),favorites:(0,c.calcValueForFavorites)((0,o.Z)((0,o.Z)({},l),{},{favorites:t.favorites,inputCode:s,inputValue:t.inputValue}))});case d.E_UnitConverterActions.setTargetCode:var v=(0,c.calcValue)((0,o.Z)((0,o.Z)({},l),{},{inputCode:s,targetCode:t.inputCode,inputValue:t.targetValue}));return(0,o.Z)((0,o.Z)({},t),{},{targetCode:s,inputValue:v,favorites:(0,c.calcValueForFavorites)((0,o.Z)((0,o.Z)({},l),{},{favorites:t.favorites,inputCode:t.inputCode,inputValue:v}))});case d.E_UnitConverterActions.swapInputTargetCode:return(0,o.Z)((0,o.Z)({},t),{},{inputCode:t.targetCode,targetCode:t.inputCode,inputValue:t.targetValue,targetValue:t.inputValue});case d.E_UnitConverterActions.setInputValue:var C=(0,c.sanitizeNumericInput)(s);return C===t.inputValue?t:(0,o.Z)((0,o.Z)({},t),{},{inputValue:C,targetValue:(0,c.calcValue)((0,o.Z)((0,o.Z)({},l),{},{inputCode:t.inputCode,targetCode:t.targetCode,inputValue:C})),favorites:(0,c.calcValueForFavorites)((0,o.Z)((0,o.Z)({},l),{},{favorites:t.favorites,inputCode:t.inputCode,inputValue:C}))});case d.E_UnitConverterActions.setTargetValue:var p=(0,c.sanitizeNumericInput)(s);if(p===t.targetValue)return t;var f=(0,c.calcValue)((0,o.Z)((0,o.Z)({},l),{},{inputCode:t.targetCode,targetCode:t.inputCode,inputValue:p}));return(0,o.Z)((0,o.Z)({},t),{},{inputValue:f,targetValue:p,favorites:(0,c.calcValueForFavorites)((0,o.Z)((0,o.Z)({},l),{},{favorites:t.favorites,inputCode:t.inputCode,inputValue:f}))});case d.E_UnitConverterActions.toggleFavorite:var g=t.favorites.filter((function(e){return e.code!==s}));return g.length<t.favorites.length?(0,o.Z)((0,o.Z)({},t),{},{favorites:g}):(0,o.Z)((0,o.Z)({},t),{},{favorites:[].concat((0,a.Z)(t.favorites),[s])});default:return t}}}},15260:function(e,t,n){n.r(t),n.d(t,{default:function(){return l}});var a=n(29439),r=n(72791);var o=n.p+"static/media/delete.3556d1eb7ff0c2a1ea66073930c3c951.svg";var i=n.p+"static/media/swap.879a49335bf9b6183ffea43623e20dd4.svg",u=n(32929),s=(n(19200),n(98261)),c=n(80184);function l(e){var t,n,s=(0,u.useDefaults)(e.defaults),l=(0,r.useCallback)((0,u.createReducer)(e),[e.conversionFormulas,e.conversionRates]),v=(0,r.useReducer)(l,{inputCode:s.inputCode,targetCode:s.targetCode,inputValue:"",targetValue:"",favorites:s.favorites}),C=(0,a.Z)(v,2),p=C[0],f=C[1],g=(0,u.useElementHandlers)(f,s.pageCache),m=g.handleInputValueChange,h=g.handleTargetValueChange,V=g.handleListItemAction,I=g.handleInputClearClick,Z=g.handleTargetClearClick,E=g.handleInputTargetCodeSwapClick,y=g.inputValueEl,x=g.targetValueEl;return(0,c.jsx)("div",{className:"MoneyEx",children:(0,c.jsxs)("div",{className:"gridContainer",children:[(0,c.jsxs)("div",{className:"inputContainer",children:[[{code:p.inputCode,valueEl:y,value:null!==(t=p.inputValue)&&void 0!==t?t:0===p.targetValue?0:"",placeholder:"input...",onClearClick:I,onValueChange:m},{code:p.targetCode,valueEl:x,value:null!==(n=p.targetValue)&&void 0!==n?n:0===p.inputValue?0:"",placeholder:"target...",onClearClick:Z,onValueChange:h}].map((function(t,n){var a=e.allUnitsMap[t.code],r=e.UnitIconComponent||a.icon;return(0,c.jsxs)("div",{className:"inputItem",children:[e.UnitIconComponent&&a.altCode?(0,c.jsx)(e.UnitIconComponent,{code:a.altCode,wrapperClassName:"inputUnitIconComponent"}):a.icon,(0,c.jsxs)("span",{className:"inputItemCodeSymbol",children:[r?"".concat(t.code," "):"",a.symbol]}),(0,c.jsx)("input",{autoFocus:0===n,ref:t.valueEl,maxLength:12,inputMode:"numeric",placeholder:t.placeholder,className:"inputField",type:"text",onChange:t.onValueChange,value:t.value}),(0,c.jsx)("img",{src:o,onClick:t.onClearClick,className:"clearInputIcon ".concat(""!==t.value?"visible":"invisible"),alt:"close"})]},t.code)})),(0,c.jsx)("span",{className:"inputItemsSeparator"}),(0,c.jsx)("img",{src:i,className:"swapIcon",alt:"Swap Icon",onClick:function(){return E(p.inputCode,p.targetCode)}})]}),(0,c.jsx)("div",{className:"favList",children:d({favorites:p.favorites,allUnitsMap:e.allUnitsMap,handleListItemAction:V,currentInputCode:p.inputCode,currentTargetCode:p.targetCode,UnitIconComponent:e.UnitIconComponent})})]})})}function d(e){var t=e.handleListItemAction,n=e.allUnitsMap,a=e.favorites,r=e.currentInputCode,o=e.currentTargetCode,i=e.UnitIconComponent,u=a||Object.keys(n);return(0,c.jsx)(c.Fragment,{children:u.map((function(e){var u,l=a?e.code:e;if(l===r||l===o)return null;var d=n[l],v=i||d.icon;return(0,c.jsxs)("div",{className:"itemContainer",children:[(0,c.jsxs)("div",{className:"itemInfoContainer",children:[(0,c.jsx)("div",{className:"codeFlagGroup",children:v?(0,c.jsxs)(c.Fragment,{children:[i&&d.altCode?(0,c.jsx)(i,{code:d.altCode,wrapperClassName:"-mt-1 pr-2"}):d.icon,l]}):(0,c.jsx)("span",{className:"text-xl",children:d.symbol})}),(0,c.jsxs)("div",{className:"favItemRightGroup",children:[a&&(0,c.jsxs)("div",{className:"favItemSymbolValueGroup",children:[v&&(0,c.jsx)("span",{className:"favItemSymbol",children:d.symbol||""}),(0,c.jsxs)("span",{className:"exRate",children:["\xa0",null!==(u=e.value)&&void 0!==u?u:0]})]}),(0,c.jsx)("div",{className:"name",children:l&&(null===d||void 0===d?void 0:d.name)||"..."})]})]}),(0,c.jsx)("div",{className:"favItemActionBtnGroup",children:[s.E_UnitConverterListItemActions.input,s.E_UnitConverterListItemActions.target].map((function(e){return(0,c.jsx)("button",{className:"favItemActionBtn","data-code":l,"data-action-name":e,onClick:t,children:e},e)}))})]},l)}))})}},73428:function(e,t,n){var a,r;n.r(t),n.d(t,{E_PageCacheKeys:function(){return a},E_UnitConverterActions:function(){return r}}),function(e){e.inputCode="inputCode",e.targetCode="targetCode",e.favoriteCodes="favoriteCodes"}(a||(a={})),function(e){e[e.setInputCode=0]="setInputCode",e[e.setTargetCode=1]="setTargetCode",e[e.setInputValue=2]="setInputValue",e[e.setTargetValue=3]="setTargetValue",e[e.swapInputTargetCode=4]="swapInputTargetCode",e[e.toggleFavorite=5]="toggleFavorite"}(r||(r={}))},98261:function(e,t,n){var a;n.r(t),n.d(t,{E_UnitConverterListItemActions:function(){return a}}),function(e){e.input="INPUT",e.target="TARGET"}(a||(a={}))},82674:function(e,t,n){n.r(t),n.d(t,{default:function(){return i}});var a=n(15671),r=n(43144),o=n(89352),i=function(){function e(t){var n=this;(0,a.Z)(this,e),this.keyPrefix=void 0,this.cachedKeys=[],this.set=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=n.getPageKey(e);o.LocalStorage.setItem(a,JSON.stringify(t)),n.cachedKeys.push(e)},this.get=function(e){var t,a=n.getPageKey(e);return JSON.parse(null!==(t=o.LocalStorage.getItem(a))&&void 0!==t?t:"null")},this.remove=function(e){var t=n.getPageKey(e);o.LocalStorage.removeItem(t),n.cachedKeys=n.cachedKeys.filter((function(t){return t!==e}))},this.clearAll=function(){n.cachedKeys.forEach((function(e){return n.remove(e)})),n.cachedKeys=[]},this.keyPrefix=t}return(0,r.Z)(e,[{key:"getPageKey",value:function(e){return"".concat(this.keyPrefix,"-").concat(e)}}]),e}()},89352:function(e,t,n){n.r(t),n.d(t,{isStorageSupported:function(){return o},MemoryStorage:function(){return i},LocalStorage:function(){return u},SessionStorage:function(){return s}});var a=n(43144),r=n(15671);function o(e){try{var t=window[e],n="__storage_test__";return t.setItem(n,"1"),t.removeItem(n),!0}catch(a){return!1}}var i=(0,a.Z)((function e(){var t=this;(0,r.Z)(this,e),this.storage={},this.setItem=function(e,n){var a=n&&n.toString()||"";t.storage[e]=a},this.getItem=function(e){return t.storage[e]||""},this.removeItem=function(e){delete t.storage[e]},this.clear=function(){t.storage=(new e).storage}})),u=o("localStorage")?window.localStorage:new i,s=o("sessionStorage")?window.sessionStorage:new i},42585:function(e,t,n){n.r(t),n.d(t,{sanitizeNumericInput:function(){return o},getDefaultFavorites:function(){return i},calcValueForFavorites:function(){return u},calcValue:function(){return s}});var a=n(1413),r=n(69927);function o(e){return e.replace(/[^0-9.]/g,"").replace(/(\..*?)\..*/g,"$1").replace(/^0(\d)/,"$1")}function i(e){return e.map((function(e){return{code:e,value:""}}))}function u(e){var t=e.favorites,n=e.conversionRates,r=e.conversionFormulas,o=e.inputCode,i=e.inputValue;return t.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{value:s({conversionRates:n,conversionFormulas:r,inputCode:o,targetCode:e.code,inputValue:i})})}))}function s(e){var t=e.conversionRates,n=e.conversionFormulas,a=e.inputCode,o=e.targetCode,i=e.inputValue;return n?function(e){var t=e.conversionFormulas,n=e.inputCode,a=e.targetCode,r=e.inputValue,o=0;if(n===t.baseUnitCode)return t.fromBaseTo[a](r);return o=t.toBaseFrom[n](r),a===t.baseUnitCode?o:t.fromBaseTo[a](o)}({conversionFormulas:n,inputCode:a,targetCode:o,inputValue:i}):t?function(e){var t=e.conversionRates,n=e.inputCode,a=e.targetCode,o=e.inputValue,i=(0,r.toNumber)(o),u=t[n],s=t[a];return(0,r.round)(s*i/u)}({conversionRates:t,inputCode:a,targetCode:o,inputValue:i}):i}},19200:function(e,t,n){n.r(t),t.default={}}}]);
//# sourceMappingURL=5260.a65171fc.chunk.js.map