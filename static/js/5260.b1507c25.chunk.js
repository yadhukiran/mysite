"use strict";(self.webpackChunkmysite_dev=self.webpackChunkmysite_dev||[]).push([[5260,4642,3428,8261,9927,2674,9352,2585],{14642:function(e,t,n){n.r(t),n.d(t,{unitConverterReducer:function(){return V},useConversionRates:function(){return h},useDefaults:function(){return y},useElementHandlers:function(){return I}});var r=n(30907);var a=n(59199),o=n(40181);function i(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,a.Z)(e)||(0,o.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var u=n(29439),s=n(28683),c=n(15861),l=n(87757),v=n.n(l),d=n(72791),f=n(16871),p=n(82674),C=n(42585),g=n(98261),m=n(73428);function h(e,t){(0,d.useEffect)((function(){var n=function(){var n=(0,c.Z)(v().mark((function n(){var r;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=5;break}return n.next=3,t();case 3:(r=n.sent)&&e([m.E_UnitConverterActions.setConversionRates,r]);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[t,e])}function I(e,t){var n=(0,d.useRef)(null),r=(0,d.useRef)(null),a=(0,d.useMemo)((function(){return{handleInputValueChange:function(t){return e([m.E_UnitConverterActions.setInputValue,t.target.value])},handleTargetValueChange:function(t){return e([m.E_UnitConverterActions.setTargetValue,t.target.value])},handleListItemAction:function(a){var o=a.currentTarget.dataset,i=o.code,u=o.actionName;if(i&&u)switch(u){case g.E_UnitConverterListItemActions.input:var s;return t.set(m.E_PageCacheKeys.inputCode,i),e([m.E_UnitConverterActions.setInputCode,i]),void(null===(s=n.current)||void 0===s||s.focus());case g.E_UnitConverterListItemActions.target:var c;return t.set(m.E_PageCacheKeys.targetCode,i),e([m.E_UnitConverterActions.setTargetCode,i]),void(null===(c=r.current)||void 0===c||c.focus());default:return}},handleInputClearClick:function(){var t;e([m.E_UnitConverterActions.setInputValue,""]),null===(t=n.current)||void 0===t||t.focus()},handleTargetClearClick:function(){var t;e([m.E_UnitConverterActions.setTargetValue,""]),null===(t=r.current)||void 0===t||t.focus()},handleInputTargetCodeSwapClick:function(r,a){var o;t.set(m.E_PageCacheKeys.inputCode,a),t.set(m.E_PageCacheKeys.targetCode,r),e([m.E_UnitConverterActions.swapInputTargetCode]),null===(o=n.current)||void 0===o||o.focus()}}}),[e,t]);return(0,s.Z)({inputValueEl:n,targetValueEl:r},a)}function y(e){var t=(0,f.TH)();return(0,d.useMemo)((function(){var n=new p.default(t.pathname);return{inputCode:n.get(m.E_PageCacheKeys.inputCode)||e.inputCode,targetCode:n.get(m.E_PageCacheKeys.targetCode)||e.targetCode,favorites:(0,C.getDefaultFavorites)(n.get(m.E_PageCacheKeys.favoriteCodes)||e.favoriteCodes),pageCache:n}}),[t,e])}var V=function(e,t){var n=(0,u.Z)(t,2),r=n[0],a=n[1];switch(r){case m.E_UnitConverterActions.setConversionRates:return(0,s.Z)((0,s.Z)({},e),{},{conversionRates:a});case m.E_UnitConverterActions.setInputCode:var o=e.conversionRates&&Number(e.inputValue)>0?(0,C.calculateConversionRate)(e.conversionRates,a,e.targetCode,Number(e.inputValue)):e.targetValue;return(0,s.Z)((0,s.Z)({},e),{},{inputCode:a,targetValue:o,favorites:e.conversionRates&&Number(e.inputValue)>0?(0,C.calculateConversionRateForFavorites)(e.favorites,e.conversionRates,a,e.inputValue):e.favorites});case m.E_UnitConverterActions.setTargetCode:var c=e.conversionRates&&Number(e.targetValue)>0?(0,C.calculateConversionRate)(e.conversionRates,a,e.inputCode,Number(e.targetValue)):e.inputValue;return(0,s.Z)((0,s.Z)({},e),{},{targetCode:a,inputValue:c,favorites:e.conversionRates&&Number(c)>0?(0,C.calculateConversionRateForFavorites)(e.favorites,e.conversionRates,a,c):e.favorites});case m.E_UnitConverterActions.swapInputTargetCode:return(0,s.Z)((0,s.Z)({},e),{},{inputCode:e.targetCode,targetCode:e.inputCode,inputValue:e.targetValue,targetValue:e.inputValue});case m.E_UnitConverterActions.setInputValue:var l=(0,C.sanitizeNumericInput)(a);return l===e.inputValue?e:(0,s.Z)((0,s.Z)({},e),{},{inputValue:l,targetValue:e.conversionRates?(0,C.calculateConversionRate)(e.conversionRates,e.inputCode,e.targetCode,Number(l)):e.targetValue,favorites:e.conversionRates?(0,C.calculateConversionRateForFavorites)(e.favorites,e.conversionRates,e.inputCode,l):e.favorites});case m.E_UnitConverterActions.setTargetValue:var v=(0,C.sanitizeNumericInput)(a);if(v===e.targetValue)return e;var d=e.conversionRates?(0,C.calculateConversionRate)(e.conversionRates,e.targetCode,e.inputCode,Number(v)):e.inputValue;return(0,s.Z)((0,s.Z)({},e),{},{inputValue:d,targetValue:v,favorites:e.conversionRates?(0,C.calculateConversionRateForFavorites)(e.favorites,e.conversionRates,e.inputCode,d):e.favorites});case m.E_UnitConverterActions.toggleFavorite:var f=e.favorites.filter(a);return f.length<e.favorites.length?(0,s.Z)((0,s.Z)({},e),{},{favorites:f}):(0,s.Z)((0,s.Z)({},e),{},{favorites:[].concat(i(e.favorites),[a])});default:return e}}},15260:function(e,t,n){n.r(t),n.d(t,{default:function(){return l}});var r=n(29439),a=n(72791);var o=n.p+"static/media/delete.3556d1eb7ff0c2a1ea66073930c3c951.svg";var i=n.p+"static/media/swap.879a49335bf9b6183ffea43623e20dd4.svg",u=n(14642),s=(n(19200),n(98261)),c=n(80184);function l(e){var t,n,s=(0,u.useDefaults)(e.defaults),l=(0,a.useReducer)(u.unitConverterReducer,{inputCode:s.inputCode,targetCode:s.targetCode,inputValue:"",targetValue:"",favorites:s.favorites}),d=(0,r.Z)(l,2),f=d[0],p=d[1];(0,u.useConversionRates)(p,e.conversionRatesAPI);var C=(0,u.useElementHandlers)(p,s.pageCache),g=C.handleInputValueChange,m=C.handleTargetValueChange,h=C.handleListItemAction,I=C.handleInputClearClick,y=C.handleTargetClearClick,V=C.handleInputTargetCodeSwapClick,b=C.inputValueEl,E=C.targetValueEl;return(0,c.jsx)("div",{className:"MoneyEx",children:(0,c.jsxs)("div",{className:"gridContainer",children:[(0,c.jsxs)("div",{className:"inputContainer",children:[[{code:f.inputCode,valueEl:b,value:null!==(t=f.inputValue)&&void 0!==t?t:0===f.targetValue?0:"",placeholder:"input...",onClearClick:I,onValueChange:g},{code:f.targetCode,valueEl:E,value:null!==(n=f.targetValue)&&void 0!==n?n:0===f.inputValue?0:"",placeholder:"target...",onClearClick:y,onValueChange:m}].map((function(t){var n=e.allUnitsMap[t.code],r=e.UnitIconComponent||n.icon;return(0,c.jsxs)("div",{className:"inputItem",children:[e.UnitIconComponent&&n.altCode?(0,c.jsx)(e.UnitIconComponent,{code:n.altCode,wrapperClassName:"inputUnitIconComponent"}):n.icon,(0,c.jsxs)("span",{className:"inputItemCodeSymbol",children:[r?"".concat(t.code," "):"",n.symbol]}),(0,c.jsx)("input",{autoFocus:!0,ref:t.valueEl,maxLength:12,inputMode:"numeric",placeholder:t.placeholder,className:"inputField",type:"text",onChange:t.onValueChange,value:t.value}),(0,c.jsx)("img",{src:o,onClick:t.onClearClick,className:"clearInputIcon ".concat(""!==t.value?"visible":"invisible"),alt:"close"})]},t.code)})),(0,c.jsx)("span",{className:"inputItemsSeparator"}),(0,c.jsx)("img",{src:i,className:"swapIcon",alt:"Swap Icon",onClick:function(){return V(f.inputCode,f.targetCode)}})]}),(0,c.jsx)("div",{className:"favList",children:v({favorites:f.favorites,allUnitsMap:e.allUnitsMap,handleListItemAction:h,currentInputCode:f.inputCode,currentTargetCode:f.targetCode,UnitIconComponent:e.UnitIconComponent})})]})})}function v(e){var t=e.handleListItemAction,n=e.allUnitsMap,r=e.favorites,a=e.currentInputCode,o=e.currentTargetCode,i=e.UnitIconComponent,u=r||Object.keys(n);return(0,c.jsx)(c.Fragment,{children:u.map((function(e){var u,l=r?e.code:e;if(l===a||l===o)return null;var v=n[l],d=i||v.icon;return(0,c.jsxs)("div",{className:"itemContainer",children:[(0,c.jsxs)("div",{className:"itemInfoContainer",children:[(0,c.jsx)("div",{className:"codeFlagGroup",children:d?(0,c.jsxs)(c.Fragment,{children:[i&&v.altCode?(0,c.jsx)(i,{code:v.altCode,wrapperClassName:"-mt-1 pr-2"}):v.icon,l]}):(0,c.jsx)("span",{className:"text-xl",children:v.symbol})}),(0,c.jsxs)("div",{className:"favItemRightGroup",children:[r&&(0,c.jsxs)("div",{className:"favItemSymbolValueGroup",children:[d&&(0,c.jsx)("span",{className:"favItemSymbol",children:v.symbol||""}),(0,c.jsxs)("span",{className:"exRate",children:["\xa0",null!==(u=e.value)&&void 0!==u?u:0]})]}),(0,c.jsx)("div",{className:"name",children:l&&(null===v||void 0===v?void 0:v.name)||"..."})]})]}),(0,c.jsx)("div",{className:"favItemActionBtnGroup",children:[s.E_UnitConverterListItemActions.input,s.E_UnitConverterListItemActions.target].map((function(e){return(0,c.jsx)("button",{className:"favItemActionBtn","data-code":l,"data-action-name":e,onClick:t,children:e},e)}))})]},l)}))})}},73428:function(e,t,n){var r,a;n.r(t),n.d(t,{E_PageCacheKeys:function(){return r},E_UnitConverterActions:function(){return a}}),function(e){e.inputCode="inputCode",e.targetCode="targetCode",e.favoriteCodes="favoriteCodes"}(r||(r={})),function(e){e[e.setConversionRates=0]="setConversionRates",e[e.setInputCode=1]="setInputCode",e[e.setTargetCode=2]="setTargetCode",e[e.setInputValue=3]="setInputValue",e[e.setTargetValue=4]="setTargetValue",e[e.swapInputTargetCode=5]="swapInputTargetCode",e[e.toggleFavorite=6]="toggleFavorite"}(a||(a={}))},98261:function(e,t,n){var r;n.r(t),n.d(t,{E_UnitConverterListItemActions:function(){return r}}),function(e){e.input="INPUT",e.target="TARGET"}(r||(r={}))},69927:function(e,t,n){function r(e){return+e}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return r(r(e).toFixed(t))}n.r(t),n.d(t,{toNumber:function(){return r},round:function(){return a}})},82674:function(e,t,n){n.r(t),n.d(t,{default:function(){return i}});var r=n(15671),a=n(43144),o=n(89352),i=function(){function e(t){var n=this;(0,r.Z)(this,e),this.keyPrefix=void 0,this.cachedKeys=[],this.set=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=n.getPageKey(e);o.LocalStorage.setItem(r,JSON.stringify(t)),n.cachedKeys.push(e)},this.get=function(e){var t,r=n.getPageKey(e);return JSON.parse(null!==(t=o.LocalStorage.getItem(r))&&void 0!==t?t:"null")},this.remove=function(e){var t=n.getPageKey(e);o.LocalStorage.removeItem(t),n.cachedKeys=n.cachedKeys.filter((function(t){return t!==e}))},this.clearAll=function(){n.cachedKeys.forEach((function(e){return n.remove(e)})),n.cachedKeys=[]},this.keyPrefix=t}return(0,a.Z)(e,[{key:"getPageKey",value:function(e){return"".concat(this.keyPrefix,"-").concat(e)}}]),e}()},89352:function(e,t,n){n.r(t),n.d(t,{isStorageSupported:function(){return o},MemoryStorage:function(){return i},LocalStorage:function(){return u},SessionStorage:function(){return s}});var r=n(43144),a=n(15671);function o(e){try{var t=window[e],n="__storage_test__";return t.setItem(n,"1"),t.removeItem(n),!0}catch(r){return!1}}var i=(0,r.Z)((function e(){var t=this;(0,a.Z)(this,e),this.storage={},this.setItem=function(e,n){var r=n&&n.toString()||"";t.storage[e]=r},this.getItem=function(e){return t.storage[e]||""},this.removeItem=function(e){delete t.storage[e]},this.clear=function(){t.storage=(new e).storage}})),u=o("localStorage")?window.localStorage:new i,s=o("sessionStorage")?window.sessionStorage:new i},42585:function(e,t,n){n.r(t),n.d(t,{sanitizeNumericInput:function(){return o},calculateConversionRateForFavorites:function(){return i},getDefaultFavorites:function(){return u},calculateConversionRate:function(){return s}});var r=n(28683),a=n(69927);function o(e){return e.replace(/[^0-9.]/g,"").replace(/(\..*?)\..*/g,"$1").replace(/^0(\d)/,"$1")}function i(e,t,n,a){return e.map((function(e){return(0,r.Z)((0,r.Z)({},e),{},{value:s(t,n,e.code,a)})}))}function u(e){return e.map((function(e){return{code:e,value:null}}))}function s(e,t,n,r){var o=+r,i=e[t],u=e[n];return(0,a.round)(u*o/i)}},19200:function(e,t,n){n.r(t),t.default={}},28683:function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,{Z:function(){return o}})}}]);
//# sourceMappingURL=5260.b1507c25.chunk.js.map